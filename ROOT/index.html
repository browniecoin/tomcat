<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Brownie Coin API</title>
  <meta content="Home Renovation Nation is your ultimate guide to remodeling, decorating and improving your home. We provide expert tips and tricks, DIY tutorials, and inspiration to help you create the home of your dreams. Also, it's a community where homeowners can connect with trusted contractors for their home renovation needs." name="description">
  <meta content="home renovation, remodeling, decorating, home improvement, DIY, tutorials, inspiration, community, home owners, trusted contractors" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <!-- Include Moment.js library -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@^3"></script>
  <script src="https://cdn.jsdelivr.net/npm/moment@^2"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@^1"></script>
  <script src="script.js"></script>
  <script src="script.supply.js"></script>
  <script src="script.mininginfo.js"></script>
  <style>
    #next_magic_key {
      width: 2ch; /* Set the width to accommodate two characters (two "0" characters) */
    }
  </style>
  <!-- =======================================================
  * Template Name: Presento - v3.9.1
  * Template URL: https://bootstrapmade.com/presento-bootstrap-corporate-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center">
    <div class="container d-flex align-items-center">
      <h1 class="logo me-auto"><a href="#">Brownie Coin</a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo me-auto"><img src="assets/img/logo.png" alt=""></a>-->

        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center">

    <div class="container" data-aos="zoom-out" data-aos-delay="100">
      <div class="row">
        <div class="col-xl-6">
          <h1>
            Brownie Coin API
          </h1>
          <h2 >
            Aiming to embody the essence of 'brownie points' by striving to have minimal financial value, emphasizing the importance of recognition and goodwill over monetary worth in the world of cryptocurrency. Just kidding!
            <BR>
            Coin Supply <span id="total-supply" >--0</span> Blocks Mined <span id="block-count" >--0</span> Current Hash Power <span id="hash-rate" >--0</span>
          </h2>
          <a href="https://browniecoins.org" class="btn-get-started scrollto">Sign-Up</a>

        </div>
      </div>
    </div>

  </section><!-- End Hero -->

  <div class="p-5 mt-3">
    <h3>Play Game</h3>
    Current Magic Key <span id="magic-key" >--0</span>
    <BR><BR>
    Guess the next magic number and enter it in the text box to win a prize! <input type="text" id="next_magic_key" name="next_magic_key" maxlength="1">
    <input type="hidden" id="next_magic_key_cbc" name="next_magic_key_cbc" value="0">
    <BR><BR>
    <span id="magic-key-win-math" ></span>
  </div><!-- End Hero -->
<div class="p-5 mt-1">
  <h3>Send Brownie Coin</h3>
  <form id="brownieForm">
      <label for="privkey">Private Key:</label>
      <input type="text" id="privkey" name="privkey"><br><br>

      <label for="recipient_address">Recipient Address:</label>
      <input type="text" id="recipient_address" name="recipient_address"><br><br>

      <label for="amount">Amount:</label>
      <input type="text" id="amount" name="amount"><br><br>

      <input type="submit" value="Submit">
  </form>
  <BR>  <BR>
  <div id="output"></div>

  <script>
      document.getElementById("brownieForm").addEventListener("submit", function (e) {
          e.preventDefault();
          callBrownie();
      });

      async function callBrownie() {
          const privkey = document.getElementById("privkey").value;
          const recipient_address = document.getElementById("recipient_address").value;
          const amount = document.getElementById("amount").value;

          try {
              const response = await fetch("/sendtoaddress.jsp", {
                  method: "POST",
                  headers: {
                      "Content-Type": "application/x-www-form-urlencoded",
                  },
                  body: `privkey=${privkey}&recipient_address=${recipient_address}&amount=${amount}`,
              });

              if (response.ok) {
                  const result = await response.text();
                  document.getElementById("output").textContent = result;
              } else {
                  document.getElementById("output").textContent = "Error: " + response.status;
              }
          } catch (error) {
              document.getElementById("output").textContent = "An error occurred: " + error;
          }
      }
  </script>
  <script>
    // Get a reference to the input element
    const inputElement = document.getElementById("next_magic_key");

    // Add an event listener for the "input" event
    inputElement.addEventListener("input", function() {
      // Change the background color to orange when the input value is edited
      document.getElementById('magic-key-win-math').textContent = "";
      inputElement.style.backgroundColor = "orange";
      document.getElementById("next_magic_key_cbc").value = document.getElementById('block-count').textContent
    });
  </script>
</div><!-- End Hero -->

  <div class="p-5">
    <canvas id="hashPowerChart" ></canvas>
  </div><!-- End Hero -->
  <div class="p-5">
    <canvas id="coinSupplyChart" ></canvas>
  </div>
  <div class="p-5">
    <canvas id="coinMiningChart" ></canvas>
  </div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-38FLR1VWNS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-38FLR1VWNS');
  </script>
  <script>
      // Function to fetch and update the hash rate
      function updateHashRate() {
          fetch('https://api.browniecoins.org/getdifficulty.jsp')
              .then(response => response.text())
              .then(data => {
                  // Update the content of the span with the retrieved hash rate data
                  document.getElementById('hash-rate').textContent = data;
              })
              .catch(error => {
                  console.error('Error fetching hash rate:', error);
              });
      }
      function updateBlockCount() {
          fetch('https://api.browniecoins.org/getblockcount.jsp')
              .then(response => response.text())
              .then(data => {
                  // Update the content of the span with the retrieved hash rate data
                  document.getElementById('block-count').textContent = data;
              })
              .catch(error => {
                  console.error('Error fetching hash rate:', error);
              });
      }

      function updateTotalSupply() {
          // Make an HTTP GET request to the API
          fetch('https://api.browniecoins.org/gettxoutsetinfo.jsp')
              .then(response => response.json())
              .then(data => {
                  // Extract the total_amount from the API response
                  const totalAmount = data.total_amount;

                  // Update the <span> element with the total_amount value
                  document.getElementById('total-supply').textContent = totalAmount;
              })
              .catch(error => {
                  console.error('Error fetching data:', error);
              });
      }

      function updateMV() {
          // Make an HTTP GET request to the API
          fetch('https://api.browniecoins.org/getLastblockhash.jsp')
              .then(response => response.text())
              .then(data => {
                  // Extract the total_amount from the API response
                  const lastCharacter = data.trim().charAt(data.trim().length - 1);
                  const magicKey = document.getElementById('magic-key');
                  const nextMagicKeyInput = document.getElementById('next_magic_key');

                  magicKey.textContent = lastCharacter;
                  if (document.getElementById("next_magic_key_cbc").value != "0" && document.getElementById("next_magic_key_cbc").value != document.getElementById('block-count').textContent){
                    if (magicKey.textContent === nextMagicKeyInput.value) {
                        // Set input field to green
                        nextMagicKeyInput.style.backgroundColor = 'green';
                        document.getElementById('magic-key-win-math').textContent = "Won";
                    } else {
                        // Set input field to red
                        nextMagicKeyInput.style.backgroundColor = 'red';
                        document.getElementById('magic-key-win-math').textContent = "Lost";
                    }
                    document.getElementById("next_magic_key_cbc").value  = "0";
                  }
              })
              .catch(error => {
                  console.error('Error fetching data:', error);
              });
      }

      // Call the function to update the hash rate initially
      updateHashRate();
      updateBlockCount();
      updateTotalSupply();
      updateMV();
      setInterval(updateTotalSupply, 5000);
      setInterval(updateBlockCount, 5000);
      // You can also set an interval to periodically update the hash rate (e.g., every 60 seconds)
      setInterval(updateHashRate, 5000); // 60000 milliseconds = 60 seconds
      setInterval(updateMV, 5000); // 60000 milliseconds = 60 seconds
  </script>
</body>

</html>
